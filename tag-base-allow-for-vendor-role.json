{
	"Version": "2012-10-17",
	"Statement": [
		{
			"Effect": "Allow",
			"Action": [
				"s3:ListAllMyBuckets",
				"ec2:DescribeInstances",
				"ssm-guiconnect:*",
				"ssm:DescribeSessions",
				"ssm:GetConnectionStatus",
				"ssm:DescribeInstanceProperties",
				"ssm:DescribeInstanceInformation"
			],
			"Resource": "*"
		},
		{
			"Effect": "Allow",
			"Action": [
					"ssm:TerminateSession",
					"ssm:ResumeSession"
			],
			"Resource": [
					"arn:aws:ssm:*:*:session/${aws:username}-*"
			]
		},
		{
			"Effect": "Allow",
			"Action": [
				"s3:ListBucket",
				"s3:GetObject",
				"s3:DeleteObject",
				"s3:PutObject"
			],
			"Resource": [
				"arn:aws:s3:::s3-vendor-b-230112/*",
				"arn:aws:s3:::s3-vendor-b-230112"
			]
		},
		{
			"Effect": "Allow",
			"Action": [
				"ssm:StartSession"
			],
			"Resource": [
				"arn:aws:ec2:*:*:instance/*"
			],
			"Condition": {
					"StringEquals": {
							"ssm:resourceTag/Env": "VendorB"
					}
			}
		},
		{
			"Effect": "Allow",
			"Action": [
				"kms:Decrypt",
				"kms:GenerateDataKey"
			],
			"Resource": "*",
			"Condition": {
				"StringEquals": {
					"aws:ResourceTag/Env": "${aws:PrincipalTag/Env}"
				}
			}
		}
	]
}